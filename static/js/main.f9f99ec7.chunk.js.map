{"version":3,"sources":["configs/index.js","redux/session/selectors.js","services/session-api.js","redux/session/actions.js","redux/session/operations.js","components/HOC/ProtectedComponent/index.js","components/HOC/ProtectedComponent/ProtectedComponent.jsx","redux/controllers/actions.js","assets/icons/shopping-cart.svg","redux/controllers/selectors.js","components/LogOutModal/LogOutModal.jsx","components/LogOutModal/index.js","components/LogOutModal/LogOutModalContainer.js","components/Header/Header.jsx","components/Header/HeaderContainer.js","components/Header/index.js","redux/errors/selectors.js","components/SigninForm/SigninForm.jsx","components/SigninForm/index.js","components/HOC/AuthRedirect/AuthRedirect.jsx","components/SigninForm/SigninFormContainer.js","pages/SigninPage.jsx","redux/filters/selectors.js","redux/filters/actions.js","components/FilterForm/FilterForm.jsx","components/FilterForm/index.js","components/FilterForm/FilterFormContainer.js","redux/books/selectors.js","redux/loadings/selectors.js","services/books-api.js","redux/books/actions.js","redux/books/operations.js","constants/priceSelectorOptions.js","helpers/filterBooks.js","components/LoaderSpinner/index.js","components/LoaderSpinner/LoaderSpinner.jsx","components/BookListItem/index.js","components/BookListItem/BookListItem.jsx","components/BookList/BookList.jsx","components/BookList/BookListContainer.js","components/BookList/index.js","pages/BooksPage.jsx","redux/selectedBook/actions.js","redux/selectedBook/selectors.js","components/BackButton/index.js","components/BackButton/BackButton.jsx","components/BookDescription/BookDescription.jsx","components/BookDescription/index.js","components/BookDescription/BookDescriptionContainer.js","redux/cartList/actions.js","components/CartForm/CartForm.jsx","components/CartForm/CartFormContainer.js","components/CartForm/index.js","components/BookDashboard/BookDashboard.jsx","components/BookDashboard/BookDashboardContainer.js","redux/selectedBook/operations.js","components/BookDashboard/index.js","pages/BookPage.jsx","redux/cartList/selectors.js","components/CartTable/CartTable.jsx","components/CartTable/index.js","components/CartDashboard/CartDashboard.jsx","components/CartDashboard/CartDashboardContainer.js","redux/cartList/operations.js","components/CartDashboard/index.js","pages/CartPage.jsx","pages/NotFoundPage.jsx","components/App/App.jsx","redux/session/reducer.js","redux/books/reducer.js","redux/selectedBook/reducer.js","redux/cartList/reducer.js","redux/controllers/reducer.js","redux/filters/reducer.js","redux/errors/reducer.js","redux/loadings/reducer.js","redux/store.js","components/Root/index.js","components/Root/Root.jsx","index.js","assets/images/JS_BAND_STORE.png"],"names":["toast","configure","getUsername","state","session","username","getAvatar","avatar","getToken","token","isAuthentificated","axios","defaults","baseURL","setAuthToken","headers","common","Authorization","signin","credentials","post","ActionTypes","signInError","error","type","payload","dispatch","api","then","data","catch","message","ProtectedComponent","connect","authentificated","Component","component","rest","render","props","to","closeLogOutModal","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref","svgRef","title","height","viewBox","width","ref","ForwardRef","forwardRef","isLogOutModalOpen","LogOutModal","backdropRef","createRef","handleKeyPress","e","code","handleBackdropClick","current","window","addEventListener","removeEventListener","handleLogout","role","onClick","className","Header","openLogOutModal","alt","src","defaultProps","mDTP","getSessionError","errors","sessionError","SigninForm","handleSubmit","preventDefault","onSignin","handleChange","value","setState","prevProps","prevState","clearErrorMsg","onSubmit","htmlFor","id","onChange","placeholder","AuthRedirect","BaseComponent","WithAuthRedirect","history","replace","location","from","SigninPage","logo","getTitle","filters","getPrice","price","FilterForm","name","setFilter","getBooks","books","getGetBooksLoading","loadings","getBooksLoading","getGetSelectedBookLoading","getSelectedBookLoading","getState","get","priceSelectorOptions","DEFAULT","MAX","filterBooks","filteredBooks","filter","book","toLowerCase","includes","Number","LoaderSpinner","screenWidth","document","documentElement","clientWidth","color","BookListItem","cover","author","toFixed","BookList","isLoading","map","getBooksOperation","BooksPage","getSelectedBook","selectedBook","BackButton","BookDescription","level","tags","tag","description","CartForm","count","totalPrice","addBookToCart","success","min","max","disabled","BookDashboard","getBook","match","params","removeSelectedBookFromStore","BookPage","getCartList","cartList","CartTable","CartDashboard","handlePurchase","reduce","sum","forEach","push","CartPage","NotFoundPage","App","handleRefreshUser","exact","path","combineReducers","initialState","getBooksError","getSelectedBookError","purchaseBooksError","SessionTypes","BookTypes","SelectedBookTypes","CartTypes","sessionLoading","purchaseBooksLoading","persistConfig","storage","whitelist","rootReducer","persistReducer","sessionReducer","middleware","ReduxThunk","enhancer","applyMiddleware","store","createStore","persistor","persistStore","Root","basename","ReactDOM","getElementById","module","exports"],"mappings":"+JAGAA,IAAMC,Y,wGCHOC,EAAc,SAAAC,GAAK,OAAIA,EAAMC,QAAQC,UAErCC,EAAY,SAAAH,GAAK,OAAIA,EAAMC,QAAQG,QAEnCC,EAAW,SAAAL,GAAK,OAAIA,EAAMC,QAAQK,OAElCC,EAAoB,SAAAP,GAAK,OAAIA,EAAMC,QAAQM,mB,iBCJxDC,IAAMC,SAASC,QAAU,iCAElB,IAAMC,EAAe,SAAAL,GAC1BE,IAAMC,SAASG,QAAQC,OAAOC,cAA9B,iBAAwDR,IAG7CS,EAAS,SAAAC,GAAW,OAAIR,IAAMS,KAAK,SAAUD,ICR7CE,EACM,kBADNA,EAEM,kBAFNA,EAGI,gBAHJA,EAKW,uBALXA,EAMW,uBANXA,EAOS,qBAPTA,EASI,gBATJA,EAWU,sBAcVC,EAAc,SAAAC,GAAK,MAAK,CACnCC,KAAMH,EACNI,QAASF,IChBEL,EAAS,SAAAC,GAAW,OAAI,SAAAO,GACnCA,EDIkC,CAClCF,KAAMH,ICHNM,EACUR,GACPS,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcH,EDImB,CACzCF,KAAMH,EACNI,QCN8CI,OAC3CC,OAAM,gBAAGC,EAAH,EAAGA,QAAH,OAAiBL,EAASJ,EAAYS,S,QCflCC,EC4BAC,aAJF,SAAA9B,GAAK,MAAK,CACrB+B,gBAAiBxB,EAAkBP,MAGR,KAAd8B,EAxBY,SAAC,GAIrB,IAHME,EAGP,EAHJC,UACAF,EAEI,EAFJA,gBACGG,EACC,+CACJ,OACE,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAAC,GAAK,OACXL,EAAkB,kBAACC,EAAcI,GAAY,kBAAC,IAAD,CAAUC,GAAG,mBCfrDnB,G,MACS,sBADTA,EAEU,sBAKVoB,EAAmB,iBAAO,CACrCjB,KAAMH,ICRR,SAASqB,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,EAEJ,IAAMoB,cAAc,OAAQ,CAC1BC,EAAG,kuBAGD,EAEJ,IAAMD,cAAc,OAAQ,CAC1BC,EAAG,2LAGD,EAEJ,IAAMD,cAAc,OAAQ,CAC1BC,EAAG,2LAGD,EAAkB,SAAyBC,GAC7C,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACb9B,EAAQiB,EAAyBW,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMF,cAAc,MAAOvB,EAAS,CACzC4B,OAAQ,GACRC,QAAS,sBACTC,MAAO,GACPC,IAAKL,GACJ7B,GAAQ8B,EAAQ,IAAMJ,cAAc,QAAS,KAAMI,GAAS,KAAM,EAAO,EAAO,IAGjFK,EAAa,IAAMC,YAAW,SAAUpC,EAAOkC,GACjD,OAAO,IAAMR,cAAc,EAAiBvB,EAAS,CACnD0B,OAAQK,GACPlC,OCzCQqC,GD2CE,IC3CkB,SAAAzE,GAAK,OAAIA,EAAMyE,oBCE3BC,E,2MAOnBC,YAAcC,sB,EAUdC,eAAiB,SAAAC,GAAM,IACbxC,EAAqB,EAAKF,MAA1BE,iBACO,WAAXwC,EAAEC,MACNzC,K,EAGF0C,oBAAsB,SAAAF,GAAM,IAClBxC,EAAqB,EAAKF,MAA1BE,iBACA2C,EAAY,EAAKN,YAAjBM,QACJA,GAAWH,EAAEpC,SAAWuC,GAG5B3C,K,mFAnBA4C,OAAOC,iBAAiB,UAAW/B,KAAKyB,kB,6CAIxCK,OAAOE,oBAAoB,UAAWhC,KAAKyB,kB,+BAkBnC,IAAD,EACuDzB,KAAKhB,MAA3DE,EADD,EACCA,iBAAkBmC,EADnB,EACmBA,kBAAmBY,EADtC,EACsCA,aAC7C,OACEZ,GACE,yBACEa,KAAK,SACLhB,IAAKlB,KAAKuB,YACVY,QAASnC,KAAK4B,oBACdQ,UAAU,mBAEV,6BAASA,UAAU,SACjB,+DACA,yBAAKA,UAAU,kBACb,4BACEnE,KAAK,SACLmE,UAAU,eACVD,QAASF,GAHX,OAOA,4BACEhE,KAAK,SACLmE,UAAU,eACVD,QAASjD,GAHX,a,GApD2BN,aCD1B0C,ECgBA5C,aAZF,SAAA9B,GAAK,MAAK,CACrByE,kBAAmBA,EAAkBzE,OAG1B,SAAAuB,GAAQ,MAAK,CACxBe,iBAAkB,kBAAMf,EAASe,MACjC+C,aAAc,WACZ9D,ETmB+B,CACjCF,KAAMH,ISnBJK,EAASe,SAIER,CAAoB4C,GCZ7Be,EAAS,SAAC,GAAD,IAAGlF,EAAH,EAAGA,kBAAmBH,EAAtB,EAAsBA,OAAQF,EAA9B,EAA8BA,SAAUwF,EAAxC,EAAwCA,gBAAxC,OACb,4BAAQF,UAAU,sBAChB,yBAAKA,UAAU,wBACb,wBAAIA,UAAU,gBAAd,kCACCjF,GACC,oCACE,yBAAKiF,UAAU,sBACb,yBAAKA,UAAU,cACb,wBAAIA,UAAU,iCACZ,4BACE,kBAAC,IAAD,CAAMnD,GAAG,SACP,4BAAQhB,KAAK,SAASmE,UAAU,YAC9B,kBAAC,EAAD,SAIN,4BACE,4BACEnE,KAAK,SACLmE,UAAU,iBACVD,QAASG,GAHX,eAUN,yBACEC,IAAI,SACJC,IAAKxF,EACLiE,MAAM,KACNF,OAAO,KACPqB,UAAU,eAEZ,uBAAGA,UAAU,MAAMtF,IAErB,kBAAC,EAAD,UAcVuF,EAAOI,aAAe,CACpBzF,OAAQ,GACRF,SAAU,IAGGuF,QC9CTK,EAAO,CAAEJ,gBPVgB,iBAAO,CAAErE,KAAMH,KQH/BuE,EDeA3D,aARF,SAAA9B,GAAK,MAAK,CACrBO,kBAAmBA,EAAkBP,GACrCI,OAAQD,EAAUH,GAClBE,SAAUH,EAAYC,MAKK8F,EAAdhE,CAAoB2D,GEjBtBM,GAAkB,SAAA/F,GAAK,OAAIA,EAAMgG,OAAOC,cCG/CC,G,YAYJ,WAAY9D,GAAQ,IAAD,8BACjB,4CAAMA,KAcR+D,aAAe,SAAArB,GACbA,EAAEsB,iBADgB,MAEgB,EAAKhE,MAA/BiE,EAFU,EAEVA,SAAUlF,EAFA,EAEAA,YACVjB,EAAa,EAAKF,MAAlBE,SACJA,EAAS2C,OAAS,GAAK3C,EAAS2C,OAAS,GAC3C1B,IAGFkF,EAAS,CAAEnG,cAvBM,EA0BnBoG,aAAe,gBAAaC,EAAb,EAAG7D,OAAU6D,MAAb,OAA2B,EAAKC,SAAS,CAAEtG,SAAUqG,KAxBlE,EAAKvG,MAAQ,CACXE,SAAU,IAHK,E,gFAOAuG,EAAWC,GAAY,IAAD,EACNtD,KAAKhB,MAA9BhB,EAD+B,EAC/BA,MAAOuF,EADwB,EACxBA,cACPzG,EAAakD,KAAKpD,MAAlBE,SACJkB,GAASsF,EAAUxG,WAAaA,GAClCyG,M,+BAiBM,IACAzG,EAAakD,KAAKpD,MAAlBE,SACAkB,EAAUgC,KAAKhB,MAAfhB,MAER,OACE,0BAAMwF,SAAUxD,KAAK+C,aAAcX,UAAU,eAC3C,2BAAOqB,QAAQ,YAAf,WAEE,2BACExF,KAAK,OACLyF,GAAG,WACHP,MAAOrG,EACP6G,SAAU3D,KAAKkD,aACfU,YAAY,gBACZxB,UAAU,kBAGbpE,GAAS,yBAAKoE,UAAU,aAAf,uBACV,4BAAQA,UAAU,+BAA+BnE,KAAK,UAAtD,gB,GA1DiBW,aAAnBkE,GAQGL,aAAe,CACpBzE,MAAO,MAyDI8E,UClEAe,GCGM,SAAAC,GAAkB,IAC/BC,EAD8B,4LAQb,IAAD,EACmB/D,KAAKhB,MAAlCL,EADU,EACVA,gBAAiBqF,EADP,EACOA,QACpBrF,GAELqF,EAAQC,QAAQ,YAZgB,2CAeZ,IAAD,EAC4BjE,KAAKhB,MAA5CL,EADW,EACXA,gBAAiBuF,EADN,EACMA,SAAUF,EADhB,EACgBA,QAC9BrF,IACDuF,EAAStH,OAASsH,EAAStH,MAAMuH,KACnCH,EAAQC,QAAQC,EAAStH,MAAMuH,MAE/BH,EAAQC,QAAQ,aArBc,+BA0BhC,OAAO,kBAACH,EAAD,UA1ByB,GACLlF,aA+B/B,OAAOF,aAFM,SAAA9B,GAAK,MAAK,CAAE+B,gBAAiBxB,EAAkBP,MAErD8B,CAAcqF,GDnCRF,CEaAnF,aAVF,SAAA9B,GAAK,MAAK,CACrBoB,MAAO2E,GAAgB/F,OAGZ,SAAAuB,GAAQ,MAAK,CACxB8E,SAAU,SAAAnG,GAAQ,OAAIqB,EAASR,EAAOb,KACtCiB,YAAa,kBAAMI,EAASJ,EAAY,oBACxCwF,cAAe,kBAAMpF,EjByCa,CAClCF,KAAMH,QiBvCOY,CAAoBoE,K,oBCOpBsB,GAjBI,SAAC,GAAD,IAAGJ,EAAH,EAAGA,QAASE,EAAZ,EAAYA,SAAZ,OACjB,oCACE,kBAAC,EAAD,MACA,0BAAM9B,UAAU,gBACd,6BAASA,UAAU,uBACjB,yBAAKG,IAAI,qBAAqBC,IAAK6B,KAAMjC,UAAU,SACnD,kBAAC,GAAD,CAAY4B,QAASA,EAASE,SAAUA,QCZnCI,GAAW,SAAA1H,GAAK,OAAIA,EAAM2H,QAAQzD,OAElC0D,GAAW,SAAA5H,GAAK,OAAIA,EAAM2H,QAAQE,OCFlC3G,GACO,mBADPA,GAEA,YC+BE4G,GA9BI,SAAC,GAAD,IAAG5D,EAAH,EAAGA,MAAO2D,EAAV,EAAUA,MAAOd,EAAjB,EAAiBA,SAAjB,OACjB,0BAAMvB,UAAU,2BACd,2BACEA,UAAU,iCACVe,MAAOrC,EACP6D,KAAK,QACL1G,KAAK,OACL0F,SAAUA,EACVC,YAAY,0BAEd,4BACExB,UAAU,iCACVe,MAAOsB,EACPE,KAAK,QACLhB,SAAUA,GAEV,4BAAQR,MAAM,SAAd,SACA,4BAAQA,MAAM,KAAd,SACA,4BAAQA,MAAM,MAAd,UACA,4BAAQA,MAAM,MAAd,WCpBSuB,GCyBAhG,aAtBF,SAAA9B,GAAK,MAAK,CACrBkE,MAAOwD,GAAS1H,GAChB6H,MAAOD,GAAS5H,OAGL,SAAAuB,GAAQ,MAAK,CACxBwF,SAAU,YAAkC,IACtC1F,EADqC,IAA9BqB,OAAU6D,EAAoB,EAApBA,MAErB,OAFyC,EAAbwB,MAG1B,IAAK,QACH1G,EAAOH,GACP,MACF,IAAK,QACHG,EAAOH,GACP,MACF,QACE,OAEJK,EHlBqB,SAACF,EAAMkF,GAAP,MAAkB,CACzCjF,QAASiF,EACTlF,QGgBW2G,CAAU3G,EAAMkF,QAIdzE,CAAoBgG,IC1BtBG,GAAW,SAAAjI,GAAK,OAAIA,EAAMkI,OCC1BC,GAAqB,SAAAnI,GAAK,OAAIA,EAAMoI,SAASC,iBAE7CC,GAA4B,SAAAtI,GAAK,OAC5CA,EAAMoI,SAASG,wBCFjB/H,IAAMC,SAASC,QAAU,iCAElB,ICLMQ,GACQ,oBADRA,GAEQ,oBAFRA,GAGM,kBCGN+G,GAAW,kBAAM,SAAC1G,EAAUiH,GACvC,IAAMlI,EAAQD,EAASmI,KAElBlI,IACLiB,EDJoC,CACpCF,KAAMH,KDFgB,SAAAZ,GAEtB,OADAK,EAAaL,GACNE,IAAMiI,IAAI,SEIjBjH,CACYlB,GACTmB,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcH,EDHqB,CAC3CF,KAAMH,GACNI,QCCgDI,OAC7CC,OAAM,YAAkB,IAAfC,EAAc,EAAdA,QACRL,EDAiC,CACrCF,KAAMH,GACNI,QCF2BM,IACvB/B,IAAMuB,MAAN,UAAeQ,U,SCXN8G,GALc,CAC3BC,QAAS,QACTC,IAAK,MCoBQC,GApBK,SAACX,EAAOhE,EAAO2D,GACjC,IAAIiB,EAAa,aAAOZ,GAgBxB,OAfIhE,IACF4E,EAAgBA,EAAcC,QAAO,SAAAC,GAAI,OACvCA,EAAK9E,MAAM+E,cAAcC,SAAShF,EAAM+E,mBAGxCpB,IAAUa,GAAqBC,UACjCG,EACEjB,IAAUa,GAAqBE,IAC3BE,EAAcC,QAAO,SAAAC,GAAI,OAAIA,EAAKnB,OAASsB,OAAOtB,MAClDiB,EAAcC,QACZ,SAAAC,GAAI,OACFA,EAAKnB,OAASsB,OAAOtB,IAAUmB,EAAKnB,MAAQsB,OAAOtB,GAAS,OAIjEiB,G,oBCjBMM,GCCO,WACpB,IAAMC,EAAcC,SAASC,gBAAgBC,YACvCnF,EAAQgF,EAAc,IAAM,IAAM,GAClClF,EAASkF,EAAc,IAAM,IAAM,GACzC,OACE,yBAAK7D,UAAU,gBACb,kBAAC,KAAD,CAAQnE,KAAK,OAAOoI,MAAM,UAAUtF,OAAQA,EAAQE,MAAOA,MCPlDqF,GCEM,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOzF,EAAV,EAAUA,MAAO0F,EAAjB,EAAiBA,OAAQ/B,EAAzB,EAAyBA,MAAOf,EAAhC,EAAgCA,GAAhC,OACnB,6BAAStB,UAAU,uBACjB,yBAAKG,IAAI,aAAaC,IAAK+D,EAAOnE,UAAU,2BAC5C,wBAAIA,UAAU,6BAA6BtB,GAC3C,2BAAI0F,GACJ,yBAAKpE,UAAU,gBACb,2BACE,0CAAgBqC,EAAMgC,QAAQ,GAA9B,MAEF,kBAAC,IAAD,CAAMxH,GAAE,iBAAYyE,IAClB,4BAAQzF,KAAK,SAASmE,UAAU,qBAAhC,YCTasE,G,4LAqBE,IAAD,EACU1G,KAAKhB,MAAzB6F,EADU,EACVA,SADU,EACAC,MACPrF,QAAQoF,M,+BAGX,IAAD,EACsB7E,KAAKhB,MAA1B8F,EADD,EACCA,MAAO6B,EADR,EACQA,UACf,OACE,oCACGA,GAAa,kBAAC,GAAD,MACd,wBAAIvE,UAAU,qCACX0C,EAAM8B,KAAI,SAAAhB,GAAI,OACb,wBAAIjG,IAAKiG,EAAKlC,GAAItB,UAAU,+BAC1B,kBAAC,GAAiBwD,a,GAlCMhH,aAAjB8H,GAiBZjE,aAAe,CACpBqC,MAAO,ICfX,ICNe4B,GDeAhI,aATF,SAAA9B,GAAK,MAAK,CACrBkI,MAAOW,GAAYZ,GAASjI,GAAQ0H,GAAS1H,GAAQ4H,GAAS5H,IAC9D+J,UAAW5B,GAAmBnI,OAGnB,SAAAuB,GAAQ,MAAK,CACxB0G,SAAU,kBAAM1G,EAAS0I,UAGZnI,CAAoBgI,IEFpBI,GAVG,kBAChB,oCACE,kBAAC,EAAD,MACA,0BAAM1E,UAAU,gBACd,kBAAC,GAAD,MACA,kBAAC,GAAD,SCVOtE,GACgB,4BADhBA,GAEgB,4BAFhBA,GAGc,0BAHdA,GAKsB,kCCJtBiJ,GAAkB,SAAAnK,GAAK,OAAIA,EAAMoK,cCC/BC,GCCI,kBACjB,kBAAC,IAAD,CAAMhI,GAAG,UACP,4BAAQmD,UAAU,eAAenE,KAAK,UAAtC,sBCDEiJ,GAAkB,SAAC,GAAD,IAAGtB,EAAH,EAAGA,KAAH,OACtBA,GACE,6BAASxD,UAAU,sCACjB,yBAAKA,UAAU,4BACb,yBACEG,IAAI,aACJC,IAAKoD,EAAKW,MACVnE,UAAU,6BAEZ,yBAAKA,UAAU,4BACb,wBAAIA,UAAU,cAAcwD,EAAK9E,OACjC,2BACE,2CADF,IAC4B8E,EAAKY,QAEjC,2BACE,0CADF,IAC2BZ,EAAKuB,OAEhC,2BACE,0CACCvB,EAAKwB,KAAKR,KAAI,SAAAS,GAAG,OAChB,0BAAMjF,UAAU,0BAA0BzC,IAAK0H,GAC5CA,SAMX,uBAAGjF,UAAU,eAAewD,EAAK0B,aACjC,kBAAC,GAAD,QAeNJ,GAAgBzE,aAAe,CAC7BmD,KAAM,MAGOsB,UCjDAA,GCMAxI,aAJF,SAAA9B,GAAK,MAAK,CACrBgJ,KAAMmB,GAAgBnK,MAGT8B,CAAcwI,ICRhBpJ,GACO,mBADPA,GAGa,yBAHbA,GAIa,yBAJbA,GAKW,uBCDHyJ,G,YAenB,WAAYvI,GAAQ,IAAD,8BACjB,4CAAMA,KAQRkE,aAAe,YAA4B,IAAfC,EAAc,EAAxB7D,OAAU6D,MAClBsB,EAAU,EAAKzF,MAAM4G,KAArBnB,MACR,EAAKrB,SAAS,CAAEoE,MAAOzB,OAAO5C,GAAQsE,WAAYhD,EAAQsB,OAAO5C,MAXhD,EAcnBJ,aAAe,SAAArB,GACbA,EAAEsB,iBADgB,MAEY,EAAKpG,MAA3B4K,EAFU,EAEVA,MAAOC,EAFG,EAEHA,WAFG,EAGc,EAAKzI,MAA7B4G,EAHU,EAGVA,MAGR8B,EANkB,EAGJA,eAGA,CAAEF,QAAOC,aAAY3G,MAFb8E,EAAd9E,MAEkC4C,GAFpBkC,EAAPlC,KAGfjH,IAAMkL,QAAQ,+CACd,EAAKvE,SAAS,CAAEoE,MAAO,EAAGC,WAAY,KAnBtC,EAAK7K,MAAQ,CACX4K,MAAO,EACPC,WAAY,GALG,E,sEAyBT,IAAD,EACuBzH,KAAKpD,MAA3B4K,EADD,EACCA,MAAOC,EADR,EACQA,WACP7B,EAAS5F,KAAKhB,MAAd4G,KACR,OACEA,GACE,2BAAOxD,UAAU,cACf,wBAAIA,UAAU,qBAAd,kBACA,0BAAMoB,SAAUxD,KAAK+C,aAAcX,UAAU,aAC3C,yBAAKA,UAAU,sBACb,uBAAGA,UAAU,uBAAb,SACA,kCAAQwD,EAAKnB,MAAMgC,QAAQ,KAE7B,2BAAOhD,QAAQ,QAAQrB,UAAU,sBAAjC,QAEE,2BACEsB,GAAG,QACHzF,KAAK,SACLmE,UAAU,gCACVe,MAAOqE,EACPI,IAAK,EACLC,IAAKjC,EAAK4B,MACV7D,SAAU3D,KAAKkD,gBAGnB,yBAAKd,UAAU,sBACb,uBAAGA,UAAU,uBAAb,eACA,kCAAQqF,EAAWhB,QAAQ,KAE7B,4BACExI,KAAK,SACLmE,UAAU,6BACV0F,UAAWN,GAASA,EAAQ5B,EAAK4B,OAHnC,qB,GApE0B5I,aAAjB2I,GAWZ9E,aAAe,CACpBmD,KAAM,MCXV,IAIMlD,GAAO,CAAEgF,cFDc,SAAA9B,GAAI,MAAK,CACpC3H,KAAMH,GACNI,QAAS0H,KGRI2B,GDSA7I,aANF,SAAA9B,GAAK,MAAK,CACrBgJ,KAAMmB,GAAgBnK,MAKK8F,GAAdhE,CAAoB6I,IEJdQ,G,4LAQE,IAAD,EACS/H,KAAKhB,OAEhCgJ,EAHkB,EACVA,SADU,EACDC,MACIC,OAAbxE,M,8CAMRyE,EADwCnI,KAAKhB,MAArCmJ,iC,+BAIA,IACAxB,EAAc3G,KAAKhB,MAAnB2H,UACR,OACE,6BAASvE,UAAU,qBAChBuE,GAAa,kBAAC,GAAD,MACd,kBAAC,GAAD,MACA,kBAAC,GAAD,W,GAzBmC/H,aCGrC8D,GAAO,CACXsF,QCDqB,SAAAtE,GAAE,OAAI,SAACvF,EAAUiH,GACtC,IAAMlI,EAAQD,EAASmI,KAElBlI,IACLiB,EbN2C,CAC3CF,KAAMH,KbCe,SAACZ,EAAOwG,GAE7B,OADAnG,EAAaL,GACNE,IAAMiI,IAAN,gBAAmB3B,I0BG1BtF,CACWlB,EAAOwG,GACfrF,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcH,EbL4B,CAClDF,KAAMH,GACNI,QaGuDI,OACpDC,OAAM,YAAkB,IAAfC,EAAc,EAAdA,QACRL,EbFwC,CAC5CF,KAAMH,GACNI,QaAkCM,IAC9B/B,IAAMuB,MAAN,UAAeQ,UDRnB2J,4BZUyC,iBAAO,CAChDlK,KAAMH,McrBOiK,GFaArJ,aATF,SAAA9B,GAAK,MAAK,CACrB+J,UAAWzB,GAA0BtI,MAQV8F,GAAdhE,CAAoBqJ,IGGpBK,GAbE,SAAC,GAAD,IAAGH,EAAH,EAAGA,MAAH,OACf,oCACE,kBAAC,EAAD,MACA,0BAAM7F,UAAU,gBACd,kBAAC,GAAD,CAAe6F,MAAOA,OCRfI,GAAc,SAAAzL,GAAK,OAAIA,EAAM0L,UCEpCC,GAAY,SAAC,GAAD,IAAGzD,EAAH,EAAGA,MAAH,OAChBA,EAAMrF,OAAS,GACb,2BAAO2C,UAAU,SACf,+BACE,4BACE,qCACA,qCACA,6CAGJ,+BACG0C,EAAM8B,KAAI,SAAAhB,GAAI,OACb,wBAAIjG,IAAKiG,EAAKlC,IACZ,4BAAKkC,EAAK9E,OACV,4BAAK8E,EAAK4B,OACV,gCAAM5B,EAAK6B,WAAWhB,QAAQ,WAkB1C8B,GAAU9F,aAAe,CACvBqC,MAAO,IAGMyD,ICtCAA,GDsCAA,GEnCTC,GAAgB,SAAC,GAAD,IAAG1D,EAAH,EAAGA,MAAO2D,EAAV,EAAUA,eAAV,OACpB,6BAASrG,UAAU,qBACjB,yBAAKA,UAAU,0BACb,kBAAC,GAAD,MACA,4BACEnE,KAAK,SACLkE,QAASsG,EACTX,UAAWhD,EAAMrF,OACjB2C,UAAU,gBAJZ,cASA0C,EAAMrF,QACN,yBAAK2C,UAAU,4BACb,wBAAIA,UAAU,iCAAd,qBAGJ,kBAAC,GAAD,CAAW0C,MAAOA,IACjBA,EAAMrF,OAAS,GACd,uBAAG2C,UAAU,0BAAb,iBAEG2D,OAAOjB,EAAM4D,QAAO,SAACC,EAAK/C,GAAN,OAAe+C,EAAM/C,EAAK6B,aAAY,IAAIhB,QAC7D,MAgBV+B,GAAc/F,aAAe,CAC3BqC,MAAO,IAGM0D,UCvCT9F,GAAO,CAAE+F,eCEc,kBAAM,SAACtK,EAAUiH,GAC5C,IAAMlI,EAAQD,EAASmI,KACvB,GAAKlI,EAAL,CACA,IAAMoL,EAAWD,GAAYjD,KACvBN,EAAQ,GACdwD,EAASM,SAAQ,SAAAhD,GACf,IAAK,IAAIrG,EAAI,EAAGA,EAAIqG,EAAK4B,MAAOjI,GAAK,EACnCuF,EAAM+D,KAAKjD,EAAKlC,OAIpBvF,EdTyC,CACzCF,KAAMH,KpBCqB,SAACZ,EAAO4H,GAEnC,OADAvH,EAAaL,GACNE,IAAMS,KAAK,WAAYiH,GkCM9B1G,CACiBlB,EAAO,CAAE4H,UACvBzG,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPH,EdTsC,CAC1CF,KAAMH,KcSFrB,IAAMkL,QAAN,UAAiBrJ,EAAKE,aAEvBD,OAAM,YAAkB,IAAfC,EAAc,EAAdA,QACRL,EdTsC,CAC1CF,KAAMH,GACNI,QcOgCM,IAC5B/B,IAAMuB,MAAM,mDC7BHwK,GFSA9J,aANF,SAAA9B,GAAK,MAAK,CACrBkI,MAAOuD,GAAYzL,MAKQ8F,GAAdhE,CAAoB8J,IGEpBM,GATE,kBACf,oCACE,kBAAC,EAAD,MACA,0BAAM1G,UAAU,gBACd,kBAAC,GAAD,SCCS2G,GAPM,kBACnB,oCACE,wBAAI3G,UAAU,uCAAd,OACA,wBAAIA,UAAU,iCAAd,6BCQE4G,G,4LAUiB,IAAD,EACmBhJ,KAAKhB,MAAlC9B,EADU,EACVA,MAAO+L,EADG,EACHA,kBACX/L,GACF+L,M,+BAKF,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUC,OAAK,EAAC/E,KAAK,IAAIlF,GAAG,YAC5B,kBAAC,IAAD,CAAOkK,KAAK,UAAUtK,UAAWuF,KACjC,kBAAC,EAAD,CAAoB8E,OAAK,EAACC,KAAK,SAAStK,UAAWiI,KACnD,kBAAC,EAAD,CAAoBqC,KAAK,aAAatK,UAAWuJ,KACjD,kBAAC,EAAD,CAAoBe,KAAK,QAAQtK,UAAWiK,KAC5C,kBAAC,IAAD,CAAOK,KAAK,IAAItK,UAAWkK,U,GAzBjBnK,aAAZoK,GAMGvG,aAAe,CACpBvF,MAAO,MAwBX,IAIMwF,GAAO,CACXuG,kB/D7ByB,kBAAM,SAAC9K,EAAUiH,GAC1C,IAAMlI,EAAQD,EAASmI,KACjBtI,EAAWH,EAAYyI,KACxBlI,GAAUJ,IAEfqB,EDauC,CACvCF,KAAMH,ICbNM,EACU,CAAEtB,aACTuB,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcH,EDcuB,CAC7CF,KAAMH,EACNI,QChBkDI,OAC/CC,OAAM,gBAAGC,EAAH,EAAGA,QAAH,OAAiBL,EDkBc,CACxCF,KAAMH,EACNI,QCpBoDM,W+DuBvCE,gBARF,SAAA9B,GAAK,MAAK,CACrBM,MAAOD,EAASL,MAOW8F,GAAdhE,CAAoBsK,I,uDCHpBI,8BAAgB,CAC7BtM,SA/Ce,WAAsC,IAArCF,EAAoC,uDAA5B,KAA4B,yCAApBqB,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QACtC,OAAQD,GACN,KAAKH,EACH,OAAOI,EAAQpB,SACjB,KAAKgB,EACH,OAAO,KACT,QACE,OAAOlB,IAyCXI,OArCa,WAAsC,IAArCJ,EAAoC,uDAA5B,KAA4B,yCAApBqB,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QACpC,OAAQD,GACN,KAAKH,EACL,KAAKA,EACH,OAAOI,EAAQlB,OACjB,KAAKc,EACH,OAAO,KACT,QACE,OAAOlB,IA8BXM,MA1BY,WAAsC,IAArCN,EAAoC,uDAA5B,KAA4B,yCAApBqB,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QACnC,OAAQD,GACN,KAAKH,EACH,OAAOI,EAAQhB,MACjB,KAAKY,EACH,OAAO,KACT,QACE,OAAOlB,IAoBXO,kBAhBwB,WAA8B,IAA7BP,EAA4B,iGAAXqB,EAAW,EAAXA,KAC1C,OAAQA,GACN,KAAKH,EACL,KAAKA,EACH,OAAO,EACT,KAAKA,EACH,OAAO,EACT,QACE,OAAOlB,MClCEkI,GATD,WAAoC,IAAnClI,EAAkC,uDAA1B,GAA0B,yCAApBqB,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QACjC,OAAQD,GACN,KAAKH,GACH,OAAOI,EACT,QACE,OAAOtB,ICMEoK,GAXM,WAAsC,IAArCpK,EAAoC,uDAA5B,KAA4B,yCAApBqB,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC1C,OAAQD,GACN,KAAKH,GACH,OAAOI,EACT,KAAKJ,GACH,OAAO,KACT,QACE,OAAOlB,ICIE0L,GAXE,WAAoC,IAAnC1L,EAAkC,uDAA1B,GAA0B,yCAApBqB,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QACpC,OAAQD,GACN,KAAKH,GACH,MAAM,GAAN,oBAAWlB,GAAX,CAAkBsB,IACpB,KAAKJ,GACH,MAAO,GACT,QACE,OAAOlB,ICIEyE,GAXW,WAA8B,IAA7BzE,EAA4B,iGAAXqB,EAAW,EAAXA,KAC1C,OAAQA,GACN,KAAKH,EACH,OAAO,EACT,KAAKA,EACH,OAAO,EACT,QACE,OAAOlB,I,ulBCNb,IAAMyM,GAAe,CACnBvI,MAAO,GACP2D,MAAOa,GAAqBC,SAcfhB,GAXC,WAA8C,IAA7C3H,EAA4C,uDAApCyM,GAAoC,yCAApBpL,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC7C,OAAQD,GACN,KAAKH,GACH,OAAO,GAAP,GAAYlB,EAAZ,CAAmBkE,MAAO5C,IAC5B,KAAKJ,GACH,OAAO,GAAP,GAAYlB,EAAZ,CAAmB6H,MAAOvG,IAC5B,QACE,OAAOtB,I,8kBCVb,IAAMyM,GAAe,CACnBxG,aAAc,KACdyG,cAAe,KACfC,qBAAsB,KACtBC,mBAAoB,MA8BP5G,GA3BA,WAA8C,IAA7ChG,EAA4C,uDAApCyM,GAAoC,yCAApBpL,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC5C,OAAQD,GACN,KAAKwL,EACL,KAAKA,EACH,OAAO,MAAK7M,EAAZ,CAAmBiG,aAAc3E,IACnC,KAAKwL,GACH,OAAO,MAAK9M,EAAZ,CAAmB0M,cAAepL,IACpC,KAAKyL,GACH,OAAO,MAAK/M,EAAZ,CAAmB2M,qBAAsBrL,IAC3C,KAAK0L,GACH,OAAO,MAAKhN,EAAZ,CAAmB4M,mBAAoBtL,IAEzC,KAAKuL,EACL,KAAKA,EACL,KAAKA,EACH,OAAO,MAAK7M,EAAZ,CAAmBiG,aAAc,OACnC,KAAK6G,GACH,OAAO,MAAK9M,EAAZ,CAAmB0M,cAAe,OACpC,KAAKK,GACH,OAAO,MAAK/M,EAAZ,CAAmB2M,qBAAsB,OAC3C,KAAKK,GACH,OAAO,MAAKhN,EAAZ,CAAmB4M,mBAAoB,OACzC,QACE,OAAO5M,I,8kBC9Bb,IAAMyM,GAAe,CACnBQ,gBAAgB,EAChB5E,iBAAiB,EACjBE,wBAAwB,EACxB2E,sBAAsB,GAkCT9E,GA/BE,WAAqC,IAApCpI,EAAmC,uDAA3ByM,GAA2B,yCAAXpL,EAAW,EAAXA,KACxC,OAAQA,GACN,KAAKwL,EACL,KAAKA,EACH,OAAO,MAAK7M,EAAZ,CAAmBiN,gBAAgB,IACrC,KAAKH,GACH,OAAO,MAAK9M,EAAZ,CAAmBqI,iBAAiB,IACtC,KAAK0E,GACH,OAAO,MAAK/M,EAAZ,CAAmBuI,wBAAwB,IAC7C,KAAKyE,GACH,OAAO,MAAKhN,EAAZ,CAAmBkN,sBAAsB,IAE3C,KAAKL,EACL,KAAKA,EACL,KAAKA,EACL,KAAKA,EACH,OAAO,MAAK7M,EAAZ,CAAmBiN,gBAAgB,IACrC,KAAKH,GACL,KAAKA,GACH,OAAO,MAAK9M,EAAZ,CAAmBqI,iBAAiB,IACtC,KAAK0E,GACL,KAAKA,GACH,OAAO,MAAK/M,EAAZ,CAAmBuI,wBAAwB,IAC7C,KAAKyE,GACL,KAAKA,GACH,OAAO,MAAKhN,EAAZ,CAAmBkN,sBAAsB,IAC3C,QACE,OAAOlN,ICzBPmN,GAAgB,CACpBpK,IAAK,OACLqK,aACAC,UAAW,CAAC,QAAS,aAGjBC,GAAcd,2BAAgB,CAClCvM,QAASsN,aAAeJ,GAAeK,IACvCtF,SACAkC,gBACAsB,YACAjH,qBACAkD,WACA3B,UACAoC,cAGIqF,GAAa,CAACC,MAEdC,GAGAC,mBAAe,WAAf,EAAmBH,IAEZI,GAAQC,uBAAYR,GAAaK,IAEjCI,GAAYC,aAAaH,ICtCvBI,GCKF,kBACX,kBAAC,IAAD,CAAUJ,MAAOA,IACf,kBAAC,IAAD,CAAaE,UAAWA,IACtB,kBAAC,IAAD,CAAQG,SAAS,KACf,kBAAC,IAAD,CAAOjM,UAAWmK,SCL1B+B,IAAShM,OAAO,kBAAC,GAAD,MAAUmH,SAAS8E,eAAe,U,mBCNlDC,EAAOC,QAAU,IAA0B,2C","file":"static/js/main.f9f99ec7.chunk.js","sourcesContent":["import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\ntoast.configure();\n","export const getUsername = state => state.session.username;\n\nexport const getAvatar = state => state.session.avatar;\n\nexport const getToken = state => state.session.token;\n\nexport const isAuthentificated = state => state.session.isAuthentificated;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://js-band-api.glitch.me/';\n\nexport const setAuthToken = token => {\n  axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n};\n\nexport const signin = credentials => axios.post('signin', credentials);\n\nexport const signout = token => {\n  setAuthToken(token);\n  return axios.get('logout');\n};\n","export const ActionTypes = {\n  SIGN_IN_REQUEST: 'SIGN_IN_REQUEST',\n  SIGN_IN_SUCCESS: 'SIGN_IN_SUCCESS',\n  SIGN_IN_ERROR: 'SIGN_IN_ERROR',\n\n  REFRESH_USER_REQUEST: 'REFRESH_USER_REQUEST',\n  REFRESH_USER_SUCCESS: 'REFRESH_USER_SUCCESS',\n  REFRESH_USER_ERROR: 'REFRESH_USER_ERROR',\n\n  HANDLE_LOGOUT: 'HANDLE_LOGOUT',\n\n  CLEAR_ERROR_MESSAGE: 'CLEAR_ERROR_MESSAGE',\n};\n\n//  Signin\n\nexport const signInRequest = () => ({\n  type: ActionTypes.SIGN_IN_REQUEST,\n});\n\nexport const signInSuccesss = response => ({\n  type: ActionTypes.SIGN_IN_SUCCESS,\n  payload: response,\n});\n\nexport const signInError = error => ({\n  type: ActionTypes.SIGN_IN_ERROR,\n  payload: error,\n});\n\n// Logout\n\nexport const handleLogout = () => ({\n  type: ActionTypes.HANDLE_LOGOUT,\n});\n\n// refresh user\n\nexport const refreshUserRequest = () => ({\n  type: ActionTypes.REFRESH_USER_REQUEST,\n});\n\nexport const refreshUserSuccess = response => ({\n  type: ActionTypes.REFRESH_USER_SUCCESS,\n  payload: response,\n});\n\nexport const refreshUserError = error => ({\n  type: ActionTypes.REFRESH_USER_ERROR,\n  payload: error,\n});\n\n// clear error message\n\nexport const clearErrorMsg = () => ({\n  type: ActionTypes.CLEAR_ERROR_MESSAGE,\n});\n","import * as api from '../../services/session-api';\nimport {\n  signInRequest,\n  signInSuccesss,\n  refreshUserRequest,\n  refreshUserSuccess,\n  signInError,\n  refreshUserError,\n} from './actions';\nimport { getToken, getUsername } from './selectors';\n\nexport const signin = credentials => dispatch => {\n  dispatch(signInRequest());\n\n  api\n    .signin(credentials)\n    .then(({ data }) => dispatch(signInSuccesss(data)))\n    .catch(({ message }) => dispatch(signInError(message)));\n};\n\nexport const refreshUser = () => (dispatch, getState) => {\n  const token = getToken(getState());\n  const username = getUsername(getState());\n  if (!token || !username) return;\n\n  dispatch(refreshUserRequest());\n  api\n    .signin({ username })\n    .then(({ data }) => dispatch(refreshUserSuccess(data)))\n    .catch(({ message }) => dispatch(refreshUserError(message)));\n};\n","import ProtectedComponent from './ProtectedComponent';\n\nexport default ProtectedComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { isAuthentificated } from '../../../redux/session/selectors';\n\nconst ProtectedComponent = ({\n  component: Component,\n  authentificated,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authentificated ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    />\n  );\n};\n\nProtectedComponent.propTypes = {\n  component: PropTypes.func.isRequired,\n  authentificated: PropTypes.bool.isRequired,\n};\n\nconst mSTP = state => ({\n  authentificated: isAuthentificated(state),\n});\n\nexport default connect(mSTP, null)(ProtectedComponent);\n","export const ActionTypes = {\n  OPEN_LOG_OUT_MODAL: 'OPEN_LOG_OUT_MODAL',\n  CLOSE_LOG_OUT_MODAL: 'CLOSE_LOG_OUT_MODAL',\n};\n\nexport const openLogOutModal = () => ({ type: ActionTypes.OPEN_LOG_OUT_MODAL });\n\nexport const closeLogOutModal = () => ({\n  type: ActionTypes.CLOSE_LOG_OUT_MODAL,\n});\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"m164.960938 300.003906h.023437c.019531 0 .039063-.003906.058594-.003906h271.957031c6.695312 0 12.582031-4.441406 14.421875-10.878906l60-210c1.292969-4.527344.386719-9.394532-2.445313-13.152344-2.835937-3.757812-7.269531-5.96875-11.976562-5.96875h-366.632812l-10.722657-48.253906c-1.527343-6.863282-7.613281-11.746094-14.644531-11.746094h-90c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h77.96875c1.898438 8.550781 51.3125 230.917969 54.15625 243.710938-15.941406 6.929687-27.125 22.824218-27.125 41.289062 0 24.8125 20.1875 45 45 45h272c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15h-272c-8.269531 0-15-6.730469-15-15 0-8.257812 6.707031-14.976562 14.960938-14.996094zm312.152343-210.003906-51.429687 180h-248.652344l-40-180zm0 0\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"m150 405c0 24.8125 20.1875 45 45 45s45-20.1875 45-45-20.1875-45-45-45-45 20.1875-45 45zm45-15c8.269531 0 15 6.730469 15 15s-6.730469 15-15 15-15-6.730469-15-15 6.730469-15 15-15zm0 0\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"m362 405c0 24.8125 20.1875 45 45 45s45-20.1875 45-45-20.1875-45-45-45-45 20.1875-45 45zm45-15c8.269531 0 15 6.730469 15 15s-6.730469 15-15 15-15-6.730469-15-15 6.730469-15 15-15zm0 0\"\n});\n\nvar SvgShoppingCart = function SvgShoppingCart(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    height: 50,\n    viewBox: \"0 -31 512.00026 512\",\n    width: 50,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgShoppingCart, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/shopping-cart.a8ece280.svg\";\nexport { ForwardRef as ReactComponent };","// eslint-disable-next-line import/prefer-default-export\nexport const isLogOutModalOpen = state => state.isLogOutModalOpen;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class LogOutModal extends Component {\n  static propTypes = {\n    closeLogOutModal: PropTypes.func.isRequired,\n    isLogOutModalOpen: PropTypes.bool.isRequired,\n    handleLogout: PropTypes.func.isRequired,\n  };\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    const { closeLogOutModal } = this.props;\n    if (e.code !== 'Escape') return;\n    closeLogOutModal();\n  };\n\n  handleBackdropClick = e => {\n    const { closeLogOutModal } = this.props;\n    const { current } = this.backdropRef;\n    if (current && e.target !== current) {\n      return;\n    }\n    closeLogOutModal();\n  };\n\n  render() {\n    const { closeLogOutModal, isLogOutModalOpen, handleLogout } = this.props;\n    return (\n      isLogOutModalOpen && (\n        <div\n          role=\"dialog\"\n          ref={this.backdropRef}\n          onClick={this.handleBackdropClick}\n          className=\"modal__backdrop\"\n        >\n          <section className=\"modal\">\n            <p>Are you sure you want to logout?</p>\n            <div className=\"modal__wrapper\">\n              <button\n                type=\"button\"\n                className=\"btn base-btn\"\n                onClick={handleLogout}\n              >\n                Yes\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn base-btn\"\n                onClick={closeLogOutModal}\n              >\n                No\n              </button>\n            </div>\n          </section>\n        </div>\n      )\n    );\n  }\n}\n","import LogOutModal from './LogOutModalContainer';\n\nexport default LogOutModal;\n","import { connect } from 'react-redux';\nimport { closeLogOutModal } from '../../redux/controllers/actions';\nimport { isLogOutModalOpen } from '../../redux/controllers/selectors';\nimport { handleLogout } from '../../redux/session/actions';\nimport LogOutModal from './LogOutModal';\n\nconst mSTP = state => ({\n  isLogOutModalOpen: isLogOutModalOpen(state),\n});\n\nconst mDTP = dispatch => ({\n  closeLogOutModal: () => dispatch(closeLogOutModal()),\n  handleLogout: () => {\n    dispatch(handleLogout());\n    dispatch(closeLogOutModal());\n  },\n});\n\nexport default connect(mSTP, mDTP)(LogOutModal);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { ReactComponent as CartIcon } from '../../assets/icons/shopping-cart.svg';\nimport LogOutModal from '../LogOutModal';\n\nconst Header = ({ isAuthentificated, avatar, username, openLogOutModal }) => (\n  <header className=\"page-header header\">\n    <div className=\"header-flexcontainer\">\n      <h1 className=\"h2 text-left\">JS BAND STORE / Roman Bezpalyi</h1>\n      {isAuthentificated && (\n        <>\n          <div className=\"header-nav-wrapper\">\n            <nav className=\"header-nav\">\n              <ul className=\"list-unstyled header-nav-list\">\n                <li>\n                  <Link to=\"/cart\">\n                    <button type=\"button\" className=\"cart-btn\">\n                      <CartIcon />\n                    </button>\n                  </Link>\n                </li>\n                <li>\n                  <button\n                    type=\"button\"\n                    className=\"btn logout-btn\"\n                    onClick={openLogOutModal}\n                  >\n                    Sign-Out\n                  </button>\n                </li>\n              </ul>\n            </nav>\n            <img\n              alt=\"avatar\"\n              src={avatar}\n              width=\"50\"\n              height=\"50\"\n              className=\"img-circle\"\n            />\n            <p className=\"h4\">{username}</p>\n          </div>\n          <LogOutModal />\n        </>\n      )}\n    </div>\n  </header>\n);\n\nHeader.propTypes = {\n  isAuthentificated: PropTypes.bool.isRequired,\n  avatar: PropTypes.string,\n  username: PropTypes.string,\n  openLogOutModal: PropTypes.func.isRequired,\n};\n\nHeader.defaultProps = {\n  avatar: '',\n  username: '',\n};\n\nexport default Header;\n","import { connect } from 'react-redux';\nimport {\n  isAuthentificated,\n  getAvatar,\n  getUsername,\n} from '../../redux/session/selectors';\nimport { openLogOutModal } from '../../redux/controllers/actions';\nimport Header from './Header';\n\nconst mSTP = state => ({\n  isAuthentificated: isAuthentificated(state),\n  avatar: getAvatar(state),\n  username: getUsername(state),\n});\n\nconst mDTP = { openLogOutModal };\n\nexport default connect(mSTP, mDTP)(Header);\n","import Header from './HeaderContainer';\n\nexport default Header;\n","export const getSessionError = state => state.errors.sessionError;\n\nexport const getGetBooksError = state => state.errors.getBooksError;\n\nexport const getGetSelectedBookError = state =>\n  state.errors.getSelectedBookError;\n\nexport const getPurchaseBooksError = state => state.errors.purchaseBooksError;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass SigninForm extends Component {\n  static propTypes = {\n    onSignin: PropTypes.func.isRequired,\n    error: PropTypes.string,\n    clearErrorMsg: PropTypes.func.isRequired,\n    signInError: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    error: null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { error, clearErrorMsg } = this.props;\n    const { username } = this.state;\n    if (error && prevState.username !== username) {\n      clearErrorMsg();\n    }\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSignin, signInError } = this.props;\n    const { username } = this.state;\n    if (username.length < 4 || username.length > 16) {\n      signInError();\n      return;\n    }\n    onSignin({ username });\n  };\n\n  handleChange = ({ target: { value } }) => this.setState({ username: value });\n\n  render() {\n    const { username } = this.state;\n    const { error } = this.props;\n\n    return (\n      <form onSubmit={this.handleSubmit} className=\"signin-form\">\n        <label htmlFor=\"username\">\n          Username\n          <input\n            type=\"text\"\n            id=\"username\"\n            value={username}\n            onChange={this.handleChange}\n            placeholder=\"Type username\"\n            className=\"form-control\"\n          />\n        </label>\n        {error && <div className=\"error-msg\">Field is not valid.</div>}\n        <button className=\"btn base-btn signin-form-btn\" type=\"submit\">\n          Sign-In\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default SigninForm;\n","import SigninForm from './SigninFormContainer';\nimport AuthRedirect from '../HOC/AuthRedirect';\n\nexport default AuthRedirect(SigninForm);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport { isAuthentificated } from '../../../redux/session/selectors';\n\nconst AuthRedirect = BaseComponent => {\n  class WithAuthRedirect extends Component {\n    static propTypes = {\n      authentificated: PropTypes.bool.isRequired,\n      history: ReactRouterPropTypes.history.isRequired,\n      location: ReactRouterPropTypes.location.isRequired,\n    };\n\n    componentDidMount() {\n      const { authentificated, history } = this.props;\n      if (!authentificated) return;\n\n      history.replace('/books');\n    }\n\n    componentDidUpdate() {\n      const { authentificated, location, history } = this.props;\n      if (!authentificated) return;\n      if (location.state && location.state.from) {\n        history.replace(location.state.from);\n      } else {\n        history.replace('/books');\n      }\n    }\n\n    render() {\n      return <BaseComponent />;\n    }\n  }\n\n  const mSTP = state => ({ authentificated: isAuthentificated(state) });\n\n  return connect(mSTP)(WithAuthRedirect);\n};\n\nexport default AuthRedirect;\n","import { connect } from 'react-redux';\nimport { signin } from '../../redux/session/operations';\nimport { signInError, clearErrorMsg } from '../../redux/session/actions';\nimport { getSessionError } from '../../redux/errors/selectors';\nimport SigninForm from './SigninForm';\n\nconst mSTP = state => ({\n  error: getSessionError(state),\n});\n\nconst mDTP = dispatch => ({\n  onSignin: username => dispatch(signin(username)),\n  signInError: () => dispatch(signInError('Invalid field.')),\n  clearErrorMsg: () => dispatch(clearErrorMsg()),\n});\n\nexport default connect(mSTP, mDTP)(SigninForm);\n","import React from 'react';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport Header from '../components/Header';\nimport SigninForm from '../components/SigninForm';\nimport logo from '../assets/images/JS_BAND_STORE.png';\n\nconst SigninPage = ({ history, location }) => (\n  <>\n    <Header />\n    <main className=\"main-content\">\n      <section className=\"signin-page-section\">\n        <img alt=\"JS BAND STORE LOGO\" src={logo} className=\"logo\" />\n        <SigninForm history={history} location={location} />\n      </section>\n    </main>\n  </>\n);\n\nSigninPage.propTypes = {\n  history: ReactRouterPropTypes.history.isRequired,\n  location: ReactRouterPropTypes.location.isRequired,\n};\n\nexport default SigninPage;\n","export const getTitle = state => state.filters.title;\n\nexport const getPrice = state => state.filters.price;\n","export const ActionTypes = {\n  SET_SEARCH_QUERY: 'SET_SEARCH_QUERY',\n  SET_PRICE: 'SET_PRICE',\n};\n\nexport const setFilter = (type, value) => ({\n  payload: value,\n  type,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst FilterForm = ({ title, price, onChange }) => (\n  <form className=\"form-inline filter-form\">\n    <input\n      className=\"form-control col-xs-6 col-md-3\"\n      value={title}\n      name=\"title\"\n      type=\"text\"\n      onChange={onChange}\n      placeholder=\"Search books by title\"\n    />\n    <select\n      className=\"form-control col-xs-6 col-md-3\"\n      value={price}\n      name=\"price\"\n      onChange={onChange}\n    >\n      <option value=\"Price\">Price</option>\n      <option value=\"0\">0-15$</option>\n      <option value=\"15\">15-30$</option>\n      <option value=\"30\">30$+</option>\n    </select>\n  </form>\n);\n\nFilterForm.propTypes = {\n  title: PropTypes.string.isRequired,\n  price: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default FilterForm;\n","import FilterForm from './FilterFormContainer';\n\nexport default FilterForm;\n","import { connect } from 'react-redux';\nimport { getTitle, getPrice } from '../../redux/filters/selectors';\nimport { ActionTypes, setFilter } from '../../redux/filters/actions';\nimport FilterForm from './FilterForm';\n\nconst mSTP = state => ({\n  title: getTitle(state),\n  price: getPrice(state),\n});\n\nconst mDTP = dispatch => ({\n  onChange: ({ target: { value, name } }) => {\n    let type;\n    switch (name) {\n      case 'title':\n        type = ActionTypes.SET_SEARCH_QUERY;\n        break;\n      case 'price':\n        type = ActionTypes.SET_PRICE;\n        break;\n      default:\n        return;\n    }\n    dispatch(setFilter(type, value));\n  },\n});\n\nexport default connect(mSTP, mDTP)(FilterForm);\n","// eslint-disable-next-line import/prefer-default-export\nexport const getBooks = state => state.books;\n","export const getSessionLoading = state => state.loadings.sessionLoading;\n\nexport const getGetBooksLoading = state => state.loadings.getBooksLoading;\n\nexport const getGetSelectedBookLoading = state =>\n  state.loadings.getSelectedBookLoading;\n\nexport const getPurchaseBooksLoading = state =>\n  state.loadings.purchaseBooksLoading;\n","import axios from 'axios';\nimport { setAuthToken } from './session-api';\n\naxios.defaults.baseURL = 'https://js-band-api.glitch.me/';\n\nexport const getBooks = token => {\n  setAuthToken(token);\n  return axios.get('books');\n};\n\nexport const getBook = (token, id) => {\n  setAuthToken(token);\n  return axios.get(`books/${id}`);\n};\n\nexport const purchaseBooks = (token, books) => {\n  setAuthToken(token);\n  return axios.post('purchase', books);\n};\n","export const ActionTypes = {\n  GET_BOOKS_REQUEST: 'GET_BOOKS_REQUEST',\n  GET_BOOKS_SUCCESS: 'GET_BOOKS_SUCCESS',\n  GET_BOOKS_ERROR: 'GET_BOOKS_ERROR',\n};\n\nexport const getBooksRequest = () => ({\n  type: ActionTypes.GET_BOOKS_REQUEST,\n});\n\nexport const getBooksSuccesss = response => ({\n  type: ActionTypes.GET_BOOKS_SUCCESS,\n  payload: response,\n});\n\nexport const getBooksError = error => ({\n  type: ActionTypes.GET_BOOKS_ERROR,\n  payload: error,\n});\n","import { toast } from 'react-toastify';\nimport * as api from '../../services/books-api';\nimport { getBooksRequest, getBooksSuccesss, getBooksError } from './actions';\nimport { getToken } from '../session/selectors';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const getBooks = () => (dispatch, getState) => {\n  const token = getToken(getState());\n\n  if (!token) return;\n  dispatch(getBooksRequest());\n  api\n    .getBooks(token)\n    .then(({ data }) => dispatch(getBooksSuccesss(data)))\n    .catch(({ message }) => {\n      dispatch(getBooksError(message));\n      toast.error(`${message}`);\n    });\n};\n","const priceSelectorOptions = {\n  DEFAULT: 'Price',\n  MAX: '30',\n};\n\nexport default priceSelectorOptions;\n","import priceSelectorOptions from '../constants/priceSelectorOptions';\n\nconst filterBooks = (books, title, price) => {\n  let filteredBooks = [...books];\n  if (title) {\n    filteredBooks = filteredBooks.filter(book =>\n      book.title.toLowerCase().includes(title.toLowerCase()),\n    );\n  }\n  if (price !== priceSelectorOptions.DEFAULT) {\n    filteredBooks =\n      price === priceSelectorOptions.MAX\n        ? filteredBooks.filter(book => book.price >= Number(price))\n        : filteredBooks.filter(\n            book =>\n              book.price >= Number(price) && book.price < Number(price) + 15,\n          );\n  }\n\n  return filteredBooks;\n};\n\nexport default filterBooks;\n","import LoaderSpinner from './LoaderSpinner';\n\nexport default LoaderSpinner;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nconst LoaderSpinner = () => {\n  const screenWidth = document.documentElement.clientWidth;\n  const width = screenWidth > 767 ? 300 : 80;\n  const height = screenWidth > 767 ? 200 : 80;\n  return (\n    <div className=\"loader-books\">\n      <Loader type=\"Oval\" color=\"#3d5575\" height={height} width={width} />\n    </div>\n  );\n};\n\nexport default LoaderSpinner;\n","import BookListItem from './BookListItem';\n\nexport default BookListItem;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst BookListItem = ({ cover, title, author, price, id }) => (\n  <section className=\"thumbnail list-item\">\n    <img alt=\"book cover\" src={cover} className=\"img-thumbnail img-book\" />\n    <h3 className=\"h3 book-list-heading mb-1\">{title}</h3>\n    <p>{author}</p>\n    <div className=\"item-wrapper\">\n      <p>\n        <strong>Price: {price.toFixed(2)}$</strong>\n      </p>\n      <Link to={`/books/${id}`}>\n        <button type=\"button\" className=\"btn list-item-btn\">\n          View\n        </button>\n      </Link>\n    </div>\n  </section>\n);\n\nBookListItem.propTypes = {\n  cover: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  id: PropTypes.string.isRequired,\n};\n\nexport default BookListItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport LoaderSpinner from '../LoaderSpinner';\nimport BookListItem from '../BookListItem';\n\nexport default class BookList extends Component {\n  static propTypes = {\n    getBooks: PropTypes.func.isRequired,\n    books: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        author: PropTypes.string.isRequired,\n        level: PropTypes.string.isRequired,\n        description: PropTypes.string.isRequired,\n        cover: PropTypes.string.isRequired,\n        tags: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n      }).isRequired,\n    ),\n    isLoading: PropTypes.bool.isRequired,\n  };\n\n  static defaultProps = {\n    books: [],\n  };\n\n  componentDidMount() {\n    const { getBooks, books } = this.props;\n    if (!books.length) getBooks();\n  }\n\n  render() {\n    const { books, isLoading } = this.props;\n    return (\n      <>\n        {isLoading && <LoaderSpinner />}\n        <ul className=\"list-unstyled container book-list\">\n          {books.map(book => (\n            <li key={book.id} className=\"col-xs-12 col-sm-6 col-md-4\">\n              <BookListItem {...book} />\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n}\n","import { connect } from 'react-redux';\nimport { getBooks } from '../../redux/books/selectors';\nimport { getTitle, getPrice } from '../../redux/filters/selectors';\nimport { getGetBooksLoading } from '../../redux/loadings/selectors';\nimport { getBooks as getBooksOperation } from '../../redux/books/operations';\nimport filterBooks from '../../helpers/filterBooks';\nimport BookList from './BookList';\n\nconst mSTP = state => ({\n  books: filterBooks(getBooks(state), getTitle(state), getPrice(state)),\n  isLoading: getGetBooksLoading(state),\n});\n\nconst mDTP = dispatch => ({\n  getBooks: () => dispatch(getBooksOperation()),\n});\n\nexport default connect(mSTP, mDTP)(BookList);\n","import BookList from './BookListContainer';\n\nexport default BookList;\n","import React from 'react';\nimport Header from '../components/Header';\nimport FilterForm from '../components/FilterForm';\nimport BookList from '../components/BookList';\n\nconst BooksPage = () => (\n  <>\n    <Header />\n    <main className=\"main-content\">\n      <FilterForm />\n      <BookList />\n    </main>\n  </>\n);\n\nexport default BooksPage;\n","export const ActionTypes = {\n  GET_SELECTED_BOOK_REQUEST: 'GET_SELECTED_BOOK_REQUEST',\n  GET_SELECTED_BOOK_SUCCESS: 'GET_SELECTED_BOOK_SUCCESS',\n  GET_SELECTED_BOOK_ERROR: 'GET_SELECTED_BOOK_ERROR',\n\n  REMOVE_SELECTED_BOOK_FROM_STORE: 'REMOVE_SELECTED_BOOK_FROM_STORE',\n};\n\nexport const getSelectedBookRequest = () => ({\n  type: ActionTypes.GET_SELECTED_BOOK_REQUEST,\n});\n\nexport const getSelectedBookSuccesss = response => ({\n  type: ActionTypes.GET_SELECTED_BOOK_SUCCESS,\n  payload: response,\n});\n\nexport const getSelectedBookError = error => ({\n  type: ActionTypes.GET_SELECTED_BOOK_ERROR,\n  payload: error,\n});\n\nexport const removeSelectedBookFromStore = () => ({\n  type: ActionTypes.REMOVE_SELECTED_BOOK_FROM_STORE,\n});\n","// eslint-disable-next-line import/prefer-default-export\nexport const getSelectedBook = state => state.selectedBook;\n","import BackButton from './BackButton';\n\nexport default BackButton;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst BackButton = () => (\n  <Link to=\"/books\">\n    <button className=\"btn base-btn\" type=\"button\">\n      Back to Booklist\n    </button>\n  </Link>\n);\n\nexport default BackButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport BackButton from '../BackButton';\n\nconst BookDescription = ({ book }) =>\n  book && (\n    <section className=\"thumbnail book-description-section\">\n      <div className=\"book-description-wrapper\">\n        <img\n          alt=\"book cover\"\n          src={book.cover}\n          className=\"img-thumbnail book-cover\"\n        />\n        <div className=\"description-text-wrapper\">\n          <h2 className=\"book-title\">{book.title}</h2>\n          <p>\n            <strong>Author:</strong> {book.author}\n          </p>\n          <p>\n            <strong>Level:</strong> {book.level}\n          </p>\n          <p>\n            <strong>Tags: </strong>\n            {book.tags.map(tag => (\n              <span className=\"label label-default tag\" key={tag}>\n                {tag}\n              </span>\n            ))}\n          </p>\n        </div>\n      </div>\n      <p className=\"description\">{book.description}</p>\n      <BackButton />\n    </section>\n  );\n\nBookDescription.propTypes = {\n  book: PropTypes.shape({\n    cover: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    author: PropTypes.string.isRequired,\n    level: PropTypes.string.isRequired,\n    tags: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n    description: PropTypes.string.isRequired,\n  }),\n};\n\nBookDescription.defaultProps = {\n  book: null,\n};\n\nexport default BookDescription;\n","import BookDescription from './BookDescriptionContainer';\n\nexport default BookDescription;\n","import { connect } from 'react-redux';\nimport { getSelectedBook } from '../../redux/selectedBook/selectors';\nimport BookDescription from './BookDescription';\n\nconst mSTP = state => ({\n  book: getSelectedBook(state),\n});\n\nexport default connect(mSTP)(BookDescription);\n","export const ActionTypes = {\n  ADD_BOOK_TO_CART: 'ADD_BOOK_TO_CART',\n\n  PURCHASE_BOOKS_REQUEST: 'PURCHASE_BOOKS_REQUEST',\n  PURCHASE_BOOKS_SUCCESS: 'PURCHASE_BOOKS_SUCCESS',\n  PURCHASE_BOOKS_ERROR: 'PURCHASE_BOOKS_ERROR',\n};\n\nexport const addBookToCart = book => ({\n  type: ActionTypes.ADD_BOOK_TO_CART,\n  payload: book,\n});\n\nexport const purchaseBooksRequest = () => ({\n  type: ActionTypes.PURCHASE_BOOKS_REQUEST,\n});\n\nexport const purchaseBooksSuccesss = () => ({\n  type: ActionTypes.PURCHASE_BOOKS_SUCCESS,\n});\n\nexport const purchaseBooksError = error => ({\n  type: ActionTypes.PURCHASE_BOOKS_ERROR,\n  payload: error,\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\n\nexport default class CartForm extends Component {\n  static propTypes = {\n    book: PropTypes.shape({\n      price: PropTypes.number.isRequired,\n      count: PropTypes.number.isRequired,\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n    }),\n    addBookToCart: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    book: null,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      count: 0,\n      totalPrice: 0,\n    };\n  }\n\n  handleChange = ({ target: { value } }) => {\n    const { price } = this.props.book;\n    this.setState({ count: Number(value), totalPrice: price * Number(value) });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { count, totalPrice } = this.state;\n    const { book, addBookToCart } = this.props;\n    const { title, id } = book;\n\n    addBookToCart({ count, totalPrice, title, id });\n    toast.success('Books have been successfully added to cart.');\n    this.setState({ count: 0, totalPrice: 0 });\n  };\n\n  render() {\n    const { count, totalPrice } = this.state;\n    const { book } = this.props;\n    return (\n      book && (\n        <aside className=\"cart-aside\">\n          <h3 className=\"cart-aside__title\">Order the book</h3>\n          <form onSubmit={this.handleSubmit} className=\"cart-form\">\n            <div className=\"cart-form__wrapper\">\n              <p className=\"cart-form__subtitle\">Price</p>\n              <span>${book.price.toFixed(2)}</span>\n            </div>\n            <label htmlFor=\"count\" className=\"cart-form__wrapper\">\n              Count\n              <input\n                id=\"count\"\n                type=\"number\"\n                className=\"form-control cart-form__input\"\n                value={count}\n                min={0}\n                max={book.count}\n                onChange={this.handleChange}\n              />\n            </label>\n            <div className=\"cart-form__wrapper\">\n              <p className=\"cart-form__subtitle\">Total price</p>\n              <span>${totalPrice.toFixed(2)}</span>\n            </div>\n            <button\n              type=\"submit\"\n              className=\"btn base-btn cart-form-btn\"\n              disabled={!count || count > book.count}\n            >\n              Add to cart\n            </button>\n          </form>\n        </aside>\n      )\n    );\n  }\n}\n","import { connect } from 'react-redux';\nimport { getSelectedBook } from '../../redux/selectedBook/selectors';\nimport { addBookToCart } from '../../redux/cartList/actions';\nimport CartForm from './CartForm';\n\nconst mSTP = state => ({\n  book: getSelectedBook(state),\n});\n\nconst mDTP = { addBookToCart };\n\nexport default connect(mSTP, mDTP)(CartForm);\n","import CartForm from './CartFormContainer';\n\nexport default CartForm;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport LoaderSpinner from '../LoaderSpinner';\nimport BookDescription from '../BookDescription';\nimport CartForm from '../CartForm';\n\nexport default class BookDashboard extends Component {\n  static propTypes = {\n    isLoading: PropTypes.bool.isRequired,\n    getBook: PropTypes.func.isRequired,\n    removeSelectedBookFromStore: PropTypes.func.isRequired,\n    match: ReactRouterPropTypes.match.isRequired,\n  };\n\n  componentDidMount() {\n    const { getBook, match } = this.props;\n    const { id } = match.params;\n    getBook(id);\n  }\n\n  componentWillUnmount() {\n    const { removeSelectedBookFromStore } = this.props;\n    removeSelectedBookFromStore();\n  }\n\n  render() {\n    const { isLoading } = this.props;\n    return (\n      <section className=\"book-page-section\">\n        {isLoading && <LoaderSpinner />}\n        <BookDescription />\n        <CartForm />\n      </section>\n    );\n  }\n}\n","import { connect } from 'react-redux';\nimport { getGetSelectedBookLoading } from '../../redux/loadings/selectors';\nimport { getBook } from '../../redux/selectedBook/operations';\nimport { removeSelectedBookFromStore } from '../../redux/selectedBook/actions';\nimport BookDashboard from './BookDashboard';\n\nconst mSTP = state => ({\n  isLoading: getGetSelectedBookLoading(state),\n});\n\nconst mDTP = {\n  getBook,\n  removeSelectedBookFromStore,\n};\n\nexport default connect(mSTP, mDTP)(BookDashboard);\n","import { toast } from 'react-toastify';\nimport * as api from '../../services/books-api';\nimport {\n  getSelectedBookRequest,\n  getSelectedBookSuccesss,\n  getSelectedBookError,\n} from './actions';\nimport { getToken } from '../session/selectors';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const getBook = id => (dispatch, getState) => {\n  const token = getToken(getState());\n\n  if (!token) return;\n  dispatch(getSelectedBookRequest());\n  api\n    .getBook(token, id)\n    .then(({ data }) => dispatch(getSelectedBookSuccesss(data)))\n    .catch(({ message }) => {\n      dispatch(getSelectedBookError(message));\n      toast.error(`${message}`);\n    });\n};\n","import BookDashboard from './BookDashboardContainer';\n\nexport default BookDashboard;\n","import React from 'react';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport Header from '../components/Header';\nimport BookDashboard from '../components/BookDashboard';\n\nconst BookPage = ({ match }) => (\n  <>\n    <Header />\n    <main className=\"main-content\">\n      <BookDashboard match={match} />\n    </main>\n  </>\n);\n\nBookPage.propTypes = {\n  match: ReactRouterPropTypes.match.isRequired,\n};\n\nexport default BookPage;\n","// eslint-disable-next-line import/prefer-default-export\nexport const getCartList = state => state.cartList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst CartTable = ({ books }) =>\n  books.length > 0 && (\n    <table className=\"table\">\n      <thead>\n        <tr>\n          <th>Title</th>\n          <th>Count</th>\n          <th>Total price</th>\n        </tr>\n      </thead>\n      <tbody>\n        {books.map(book => (\n          <tr key={book.id}>\n            <td>{book.title}</td>\n            <td>{book.count}</td>\n            <td>${book.totalPrice.toFixed(2)}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n\nCartTable.propTypes = {\n  books: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      count: PropTypes.number.isRequired,\n      totalPrice: PropTypes.number.isRequired,\n    }),\n  ),\n};\n\nCartTable.defaultProps = {\n  books: [],\n};\n\nexport default CartTable;\n","import CartTable from './CartTable';\n\nexport default CartTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport BackButton from '../BackButton';\nimport CartTable from '../CartTable';\n\nconst CartDashboard = ({ books, handlePurchase }) => (\n  <section className=\"cart-page-section\">\n    <div className=\"cart-page__btn-wrapper\">\n      <BackButton />\n      <button\n        type=\"button\"\n        onClick={handlePurchase}\n        disabled={!books.length}\n        className=\"btn base-btn\"\n      >\n        Purchase\n      </button>\n    </div>\n    {!books.length && (\n      <div className=\"cart-page__empty-wrapper\">\n        <h2 className=\"cart-page__empty-wrapper-text\">Cart is empty...</h2>\n      </div>\n    )}\n    <CartTable books={books} />\n    {books.length > 0 && (\n      <p className=\"cart-page__total-price\">\n        Total price: $\n        {Number(books.reduce((sum, book) => sum + book.totalPrice, 0)).toFixed(\n          2,\n        )}\n      </p>\n    )}\n  </section>\n);\n\nCartDashboard.propTypes = {\n  books: PropTypes.arrayOf(\n    PropTypes.shape({\n      totalPrice: PropTypes.number.isRequired,\n    }).isRequired,\n  ),\n  handlePurchase: PropTypes.func.isRequired,\n};\n\nCartDashboard.defaultProps = {\n  books: [],\n};\n\nexport default CartDashboard;\n","import { connect } from 'react-redux';\nimport { getCartList } from '../../redux/cartList/selectors';\nimport { purchaseBooks } from '../../redux/cartList/operations';\nimport CartDashboard from './CartDashboard';\n\nconst mSTP = state => ({\n  books: getCartList(state),\n});\n\nconst mDTP = { handlePurchase: purchaseBooks };\n\nexport default connect(mSTP, mDTP)(CartDashboard);\n","import { toast } from 'react-toastify';\nimport * as api from '../../services/books-api';\nimport {\n  purchaseBooksRequest,\n  purchaseBooksSuccesss,\n  purchaseBooksError,\n} from './actions';\nimport { getToken } from '../session/selectors';\nimport { getCartList } from './selectors';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const purchaseBooks = () => (dispatch, getState) => {\n  const token = getToken(getState());\n  if (!token) return;\n  const cartList = getCartList(getState());\n  const books = [];\n  cartList.forEach(book => {\n    for (let i = 0; i < book.count; i += 1) {\n      books.push(book.id);\n    }\n  });\n\n  dispatch(purchaseBooksRequest());\n  api\n    .purchaseBooks(token, { books })\n    .then(({ data }) => {\n      dispatch(purchaseBooksSuccesss());\n      toast.success(`${data.message}`);\n    })\n    .catch(({ message }) => {\n      dispatch(purchaseBooksError(message));\n      toast.error('Oops... Something went wrong. Try again.');\n    });\n};\n","import CartDashboard from './CartDashboardContainer';\n\nexport default CartDashboard;\n","import React from 'react';\nimport Header from '../components/Header';\nimport CartDashboard from '../components/CartDashboard';\n\nconst CartPage = () => (\n  <>\n    <Header />\n    <main className=\"main-content\">\n      <CartDashboard />\n    </main>\n  </>\n);\n\nexport default CartPage;\n","import React from 'react';\n\nconst NotFoundPage = () => (\n  <>\n    <h1 className=\"h1 text-center not-found-text--main\">404</h1>\n    <h2 className=\"h1 text-center not-found-text\">Oops... Page not found.</h2>\n  </>\n);\n\nexport default NotFoundPage;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getToken } from '../../redux/session/selectors';\nimport { refreshUser } from '../../redux/session/operations';\nimport ProtectedComponent from '../HOC/ProtectedComponent';\nimport SigninPage from '../../pages/SigninPage';\nimport BooksPage from '../../pages/BooksPage';\nimport BookPage from '../../pages/BookPage';\nimport CartPage from '../../pages/CartPage';\nimport NotFoundPage from '../../pages/NotFoundPage';\n\nclass App extends Component {\n  static propTypes = {\n    token: PropTypes.string,\n    handleRefreshUser: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    token: null,\n  };\n\n  componentDidMount() {\n    const { token, handleRefreshUser } = this.props;\n    if (token) {\n      handleRefreshUser();\n    }\n  }\n\n  render() {\n    return (\n      <Switch>\n        <Redirect exact from=\"/\" to=\"/signin\" />\n        <Route path=\"/signin\" component={SigninPage} />\n        <ProtectedComponent exact path=\"/books\" component={BooksPage} />\n        <ProtectedComponent path=\"/books/:id\" component={BookPage} />\n        <ProtectedComponent path=\"/cart\" component={CartPage} />\n        <Route path=\"*\" component={NotFoundPage} />\n      </Switch>\n    );\n  }\n}\n\nconst mSTP = state => ({\n  token: getToken(state),\n});\n\nconst mDTP = {\n  handleRefreshUser: refreshUser,\n};\n\nexport default connect(mSTP, mDTP)(App);\n","import { combineReducers } from 'redux';\nimport { ActionTypes } from './actions';\n\nconst username = (state = null, { type, payload }) => {\n  switch (type) {\n    case ActionTypes.SIGN_IN_SUCCESS:\n      return payload.username;\n    case ActionTypes.HANDLE_LOGOUT:\n      return null;\n    default:\n      return state;\n  }\n};\n\nconst avatar = (state = null, { type, payload }) => {\n  switch (type) {\n    case ActionTypes.SIGN_IN_SUCCESS:\n    case ActionTypes.REFRESH_USER_SUCCESS:\n      return payload.avatar;\n    case ActionTypes.HANDLE_LOGOUT:\n      return null;\n    default:\n      return state;\n  }\n};\n\nconst token = (state = null, { type, payload }) => {\n  switch (type) {\n    case ActionTypes.SIGN_IN_SUCCESS:\n      return payload.token;\n    case ActionTypes.HANDLE_LOGOUT:\n      return null;\n    default:\n      return state;\n  }\n};\n\nconst isAuthentificated = (state = false, { type }) => {\n  switch (type) {\n    case ActionTypes.SIGN_IN_SUCCESS:\n    case ActionTypes.REFRESH_USER_SUCCESS:\n      return true;\n    case ActionTypes.HANDLE_LOGOUT:\n      return false;\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  username,\n  avatar,\n  token,\n  isAuthentificated,\n});\n","import { ActionTypes } from './actions';\n\nconst books = (state = [], { type, payload }) => {\n  switch (type) {\n    case ActionTypes.GET_BOOKS_SUCCESS:\n      return payload;\n    default:\n      return state;\n  }\n};\n\nexport default books;\n","import { ActionTypes } from './actions';\n\nconst selectedBook = (state = null, { type, payload }) => {\n  switch (type) {\n    case ActionTypes.GET_SELECTED_BOOK_SUCCESS:\n      return payload;\n    case ActionTypes.REMOVE_SELECTED_BOOK_FROM_STORE:\n      return null;\n    default:\n      return state;\n  }\n};\n\nexport default selectedBook;\n","import { ActionTypes } from './actions';\n\nconst cartList = (state = [], { type, payload }) => {\n  switch (type) {\n    case ActionTypes.ADD_BOOK_TO_CART:\n      return [...state, payload];\n    case ActionTypes.PURCHASE_BOOKS_SUCCESS:\n      return [];\n    default:\n      return state;\n  }\n};\n\nexport default cartList;\n","import { ActionTypes } from './actions';\n\nconst isLogOutModalOpen = (state = false, { type }) => {\n  switch (type) {\n    case ActionTypes.OPEN_LOG_OUT_MODAL:\n      return true;\n    case ActionTypes.CLOSE_LOG_OUT_MODAL:\n      return false;\n    default:\n      return state;\n  }\n};\n\nexport default isLogOutModalOpen;\n","import { ActionTypes } from './actions';\nimport priceSelectorOptions from '../../constants/priceSelectorOptions';\n\nconst initialState = {\n  title: '',\n  price: priceSelectorOptions.DEFAULT,\n};\n\nconst filters = (state = initialState, { type, payload }) => {\n  switch (type) {\n    case ActionTypes.SET_SEARCH_QUERY:\n      return { ...state, title: payload };\n    case ActionTypes.SET_PRICE:\n      return { ...state, price: payload };\n    default:\n      return state;\n  }\n};\n\nexport default filters;\n","import { ActionTypes as SessionTypes } from '../session/actions';\nimport { ActionTypes as BookTypes } from '../books/actions';\nimport { ActionTypes as SelectedBookTypes } from '../selectedBook/actions';\nimport { ActionTypes as CartTypes } from '../cartList/actions';\n\nconst initialState = {\n  sessionError: null,\n  getBooksError: null,\n  getSelectedBookError: null,\n  purchaseBooksError: null,\n};\n\nconst errors = (state = initialState, { type, payload }) => {\n  switch (type) {\n    case SessionTypes.SIGN_IN_ERROR:\n    case SessionTypes.REFRESH_USER_ERROR:\n      return { ...state, sessionError: payload };\n    case BookTypes.GET_BOOKS_ERROR:\n      return { ...state, getBooksError: payload };\n    case SelectedBookTypes.GET_SELECTED_BOOK_ERROR:\n      return { ...state, getSelectedBookError: payload };\n    case CartTypes.PURCHASE_BOOKS_ERROR:\n      return { ...state, purchaseBooksError: payload };\n\n    case SessionTypes.SIGN_IN_SUCCESS:\n    case SessionTypes.REFRESH_USER_SUCCESS:\n    case SessionTypes.CLEAR_ERROR_MESSAGE:\n      return { ...state, sessionError: null };\n    case BookTypes.GET_BOOKS_SUCCESS:\n      return { ...state, getBooksError: null };\n    case SelectedBookTypes.GET_SELECTED_BOOK_SUCCESS:\n      return { ...state, getSelectedBookError: null };\n    case CartTypes.PURCHASE_BOOKS_SUCCESS:\n      return { ...state, purchaseBooksError: null };\n    default:\n      return state;\n  }\n};\n\nexport default errors;\n","import { ActionTypes as SessionTypes } from '../session/actions';\nimport { ActionTypes as BookTypes } from '../books/actions';\nimport { ActionTypes as SelectedBookTypes } from '../selectedBook/actions';\nimport { ActionTypes as CartTypes } from '../cartList/actions';\n\nconst initialState = {\n  sessionLoading: false,\n  getBooksLoading: false,\n  getSelectedBookLoading: false,\n  purchaseBooksLoading: false,\n};\n\nconst loadings = (state = initialState, { type }) => {\n  switch (type) {\n    case SessionTypes.SIGN_IN_REQUEST:\n    case SessionTypes.REFRESH_USER_REQUEST:\n      return { ...state, sessionLoading: true };\n    case BookTypes.GET_BOOKS_REQUEST:\n      return { ...state, getBooksLoading: true };\n    case SelectedBookTypes.GET_SELECTED_BOOK_REQUEST:\n      return { ...state, getSelectedBookLoading: true };\n    case CartTypes.PURCHASE_BOOKS_REQUEST:\n      return { ...state, purchaseBooksLoading: true };\n\n    case SessionTypes.SIGN_IN_SUCCESS:\n    case SessionTypes.REFRESH_USER_SUCCESS:\n    case SessionTypes.SIGN_IN_ERROR:\n    case SessionTypes.REFRESH_USER_ERROR:\n      return { ...state, sessionLoading: false };\n    case BookTypes.GET_BOOKS_SUCCESS:\n    case BookTypes.GET_BOOKS_ERROR:\n      return { ...state, getBooksLoading: false };\n    case SelectedBookTypes.GET_SELECTED_BOOK_SUCCESS:\n    case SelectedBookTypes.GET_SELECTED_BOOK_ERROR:\n      return { ...state, getSelectedBookLoading: false };\n    case CartTypes.PURCHASE_BOOKS_SUCCESS:\n    case CartTypes.PURCHASE_BOOKS_ERROR:\n      return { ...state, purchaseBooksLoading: false };\n    default:\n      return state;\n  }\n};\n\nexport default loadings;\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport ReduxThunk from 'redux-thunk';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage'; // defaults to localStorage for web\nimport sessionReducer from './session/reducer';\nimport books from './books/reducer';\nimport selectedBook from './selectedBook/reducer';\nimport cartList from './cartList/reducer';\nimport isLogOutModalOpen from './controllers/reducer';\nimport filters from './filters/reducer';\nimport errors from './errors/reducer';\nimport loadings from './loadings/reducer';\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['token', 'username'],\n};\n\nconst rootReducer = combineReducers({\n  session: persistReducer(persistConfig, sessionReducer),\n  books,\n  selectedBook,\n  cartList,\n  isLogOutModalOpen,\n  filters,\n  errors,\n  loadings,\n});\n\nconst middleware = [ReduxThunk];\n\nconst enhancer =\n  process.env.NODE_ENV === 'development'\n    ? composeWithDevTools(applyMiddleware(...middleware))\n    : applyMiddleware(...middleware);\n\nexport const store = createStore(rootReducer, enhancer);\n\nexport const persistor = persistStore(store);\n","import Root from './Root';\n\nexport default Root;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { HashRouter as Router, Route } from 'react-router-dom';\nimport App from '../App/App';\nimport { store, persistor } from '../../redux/store';\n\nconst Root = () => (\n  <Provider store={store}>\n    <PersistGate persistor={persistor}>\n      <Router basename=\"/\">\n        <Route component={App} />\n      </Router>\n    </PersistGate>\n  </Provider>\n);\n\nexport default Root;\n","import './styles/main.scss';\nimport './configs';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './components/Root';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/JS_BAND_STORE.0fdbfd87.png\";"],"sourceRoot":""}